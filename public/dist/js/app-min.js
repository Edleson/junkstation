var app=angular.module("junkstation",["ngRoute","ngResource","ngAnimate","ngMessages","ngDialog"]);app.config(["ngDialogProvider",function(ngDialogProvider){ngDialogProvider.setDefaults({className:"ngdialog-theme-default",plain:false,showClose:true,closeByDocument:true,closeByEscape:true,appendTo:false,preCloseCallback:function(){}})}]);app.factory("utilsService",function(){var _listarSituacao=function(){return new Array({nome:"Ativo",valor:true},{nome:"Inativo",valor:false})};return{listarSituacao:_listarSituacao}});app.factory("anoFabricacaoService",function($http){var baseAdminURL="/admin/";var root="anoFabricacao/";var _findAll=function(){return $http.get(baseAdminURL+root)};var _create=function(entity){return $http.post(baseAdminURL+root,entity)};var _update=function(entity){return $http.put(baseAdminURL+root,entity)};var _destroy=function(entity){return $http({method:"DELETE",url:baseAdminURL+root+entity._id})};return{findAll:_findAll,create:_create,update:_update,destroy:_destroy}});app.factory("cambioService",function($http){var baseAdminURL="/admin/";var root="cambio/";var _findAll=function(){return $http.get(baseAdminURL+root)};var _create=function(entity){return $http.post(baseAdminURL+root,entity)};var _update=function(entity){return $http.put(baseAdminURL+root,entity)};var _destroy=function(entity){return $http({method:"DELETE",url:baseAdminURL+root+entity._id})};return{findAll:_findAll,create:_create,update:_update,destroy:_destroy}});app.factory("categoriaService",function($http){var baseAdminURL="/admin/";var root="categoria/";var _findAll=function(){return $http.get(baseAdminURL+root)};var _create=function(entity){return $http.post(baseAdminURL+root,entity)};var _update=function(entity){return $http.put(baseAdminURL+root,entity)};var _destroy=function(entity){return $http({method:"DELETE",url:baseAdminURL+root+entity._id})};return{findAll:_findAll,create:_create,update:_update,destroy:_destroy}});app.factory("combustivelService",function($http){var baseAdminURL="/admin/";var root="combustivel/";var _findAll=function(){return $http.get(baseAdminURL+root)};var _create=function(entity){return $http.post(baseAdminURL+root,entity)};var _update=function(entity){return $http.put(baseAdminURL+root,entity)};var _destroy=function(entity){return $http({method:"DELETE",url:baseAdminURL+root+entity._id})};return{findAll:_findAll,create:_create,update:_update,destroy:_destroy}});app.factory("corService",function($http){var baseAdminURL="/admin/";var root="cor/";var _findAll=function(){return $http.get(baseAdminURL+root)};var _create=function(entity){return $http.post(baseAdminURL+root,entity)};var _update=function(entity){return $http.put(baseAdminURL+root,entity)};var _destroy=function(entity){return $http({method:"DELETE",url:baseAdminURL+root+entity._id})};return{findAll:_findAll,create:_create,update:_update,destroy:_destroy}});app.controller("adminController",["$scope",function($scope){$scope.test="TESTE"}]);app.controller("anoFabricacaoController",function($scope,anoFabricacaoService,$rootScope,ngDialog,situacoes){$scope.entities=[];$scope.entity={};$scope.situacoes=situacoes;var Service=anoFabricacaoService;var findAll=function(){Service.findAll().success(function(response,status){$scope.entities=response.data}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})};$scope.createOrUpdate=function(entity){showBlockUI({message:"Carregando ..."});if(entity._id){Service.update(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Ano "+entity.ano+" atualizada com sucesso !",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}else{Service.create(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Ano "+entity.ano+" criada com sucesso!",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}};$scope.destroy=function(entity){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default"}).then(function(value){Service.destroy(entity).success(function(response,status){showGrowl(null,"Ano "+entity.ano+" excluído com sucesso !",6e3);delete $scope.entity;findAll()}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})},function(reason){console.log("Modal promise rejected. Reason: ",reason)})};$scope.selectEntity=function(entity){$scope.entity=angular.copy(entity)};$scope.orderBy=function(ordenacao){$scope.ordenacao=ordenacao;$scope.direcao=!$scope.direcao};findAll()});app.controller("cambioController",function($scope,cambioService,$rootScope,ngDialog,situacoes){$scope.entities=[];$scope.entity={};$scope.situacoes=situacoes;var Service=cambioService;var findAll=function(){Service.findAll().success(function(response,status){$scope.entities=response.data}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})};$scope.createOrUpdate=function(entity){showBlockUI({message:"Carregando ..."});if(entity._id){Service.update(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Câmbio "+entity.nome+" atualizada com sucesso !",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}else{Service.create(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Câmbio "+entity.nome+" criada com sucesso!",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}};$scope.destroy=function(entity){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default"}).then(function(value){Service.destroy(entity).success(function(response,status){showGrowl(null,"Câmbio "+entity.nome+" excluído com sucesso !",6e3);delete $scope.entity;findAll()}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})},function(reason){console.log("Modal promise rejected. Reason: ",reason)})};$scope.selectEntity=function(entity){$scope.entity=angular.copy(entity)};$scope.orderBy=function(ordenacao){$scope.ordenacao=ordenacao;$scope.direcao=!$scope.direcao};findAll()});app.controller("categoriaController",function($scope,categoriaService,$rootScope,ngDialog,situacoes){$scope.entities=[];$scope.entity={};$scope.situacoes=situacoes;var Service=categoriaService;var findAll=function(){Service.findAll().success(function(response,status){$scope.entities=response.data}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})};$scope.createOrUpdate=function(entity){showBlockUI({message:"Carregando ..."});if(entity._id){Service.update(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Categoria "+entity.nome+" atualizada com sucesso !",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}else{Service.create(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Categoria "+entity.nome+" criada com sucesso!",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}};$scope.destroy=function(entity){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default"}).then(function(value){Service.destroy(entity).success(function(response,status){showGrowl(null,"Categoria "+entity.nome+" excluído com sucesso !",6e3);delete $scope.entity;findAll()}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})},function(reason){console.log("Modal promise rejected. Reason: ",reason)})};$scope.selectEntity=function(entity){$scope.entity=angular.copy(entity)};$scope.orderBy=function(ordenacao){$scope.ordenacao=ordenacao;$scope.direcao=!$scope.direcao};findAll()});app.controller("combustivelController",function($scope,combustivelService,$rootScope,ngDialog,situacoes){$scope.entities=[];$scope.entity={};$scope.situacoes=situacoes;var Service=combustivelService;var findAll=function(){Service.findAll().success(function(response,status){$scope.entities=response.data}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})};$scope.createOrUpdate=function(entity){showBlockUI({message:"Carregando ..."});if(entity._id){Service.update(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Combustível "+entity.nome+" atualizada com sucesso !",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}else{Service.create(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Combustível "+entity.nome+" criada com sucesso!",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}};$scope.destroy=function(entity){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default"}).then(function(value){Service.destroy(entity).success(function(response,status){showGrowl(null,"Combustível "+entity.nome+" excluído com sucesso !",6e3);delete $scope.entity;findAll()}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})},function(reason){console.log("Modal promise rejected. Reason: ",reason)})};$scope.selectEntity=function(entity){$scope.entity=angular.copy(entity)};$scope.orderBy=function(ordenacao){$scope.ordenacao=ordenacao;$scope.direcao=!$scope.direcao};findAll()});app.controller("corController",function($scope,corService,$rootScope,ngDialog,situacoes){$scope.entities=[];$scope.entity={};$scope.situacoes=situacoes;var Service=corService;var findAll=function(){Service.findAll().success(function(response,status){$scope.entities=response.data}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})};$scope.createOrUpdate=function(entity){showBlockUI({message:"Carregando ..."});if(entity._id){Service.update(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Cor "+entity.nome+" atualizada com sucesso !",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}else{Service.create(entity).success(function(response,status){delete $scope.entity;$scope.entityForm.$setPristine();findAll();showGrowl("Notificação !","Cor "+entity.nome+" criada com sucesso!",6e3)}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})}};$scope.destroy=function(entity){ngDialog.openConfirm({template:"modalDialogId",className:"ngdialog-theme-default"}).then(function(value){Service.destroy(entity).success(function(response,status){showGrowl(null,"Cor "+entity.nome+" excluído com sucesso !",6e3);delete $scope.entity;findAll()}).error(function(response){showGrowl(response.header.error.code+" : "+response.header.error.errmsg,response.header.message,6e3)})},function(reason){console.log("Modal promise rejected. Reason: ",reason)})};$scope.selectEntity=function(entity){$scope.entity=angular.copy(entity)};$scope.orderBy=function(ordenacao){$scope.ordenacao=ordenacao;$scope.direcao=!$scope.direcao};findAll()});app.controller("uiAdminController",["$scope",function($scope){$scope.panels=[{title:"Cadastro Geral",opened:false,contentPanel:false,links:[{href:"#/marca",desc:"Gerenciar Marca"},{href:"#/categoria",desc:"Gerenciar Categoria"},{href:"#/modelo",desc:"Gerenciar Modelos"},{href:"#/combustivel",desc:"Gerenciar Combustível"},{href:"#/cor",desc:"Gerenciar Cor"},{href:"#/cambio",desc:"Gerenciar Cambio"},{href:"#/anoFabricacao",desc:"Gerenciar Ano Fabricação"},{href:"#/servico",desc:"Gerenciar Serviço"},{href:"#/newsletter",desc:"Gerenciar Newsletter"},{href:"#/estilo",desc:"Gerenciar Estilo"},{href:"#/uf",desc:"Gerenciar Uf"}]},{title:"Gerenciar Anúncios",opened:false,contentPanel:false,links:[{href:"#",desc:"Lista de Anunciantes"},{href:"#",desc:"Lista de Anúncios"}]},{title:"Relatórios",opened:false,contentPanel:false,links:[{href:"#",desc:"Relatório Anúncios"},{href:"#",desc:"Relatório Anunciantes"},{href:"#",desc:"Relatório Financeiro"}]}];$scope.togglePanel=function(panel){if(panel.opened){panel.opened=false;panel.contentPanel=false}else{panel.opened=true;panel.contentPanel=true}}}]);app.config(["$routeProvider","$httpProvider",function($routeProvider,$httpProvider){$routeProvider.when("/",{templateUrl:"partials/homeAdmin.html",controller:"adminController"});$routeProvider.when("/anoFabricacao",{templateUrl:"partials/anoFabricacao.html",controller:"anoFabricacaoController",resolve:{situacoes:function(utilsService){return utilsService.listarSituacao()}}});$routeProvider.when("/cambio",{templateUrl:"partials/cambio.html",controller:"cambioController",resolve:{situacoes:function(utilsService){return utilsService.listarSituacao()}}});$routeProvider.when("/categoria",{templateUrl:"partials/categoria.html",controller:"categoriaController",resolve:{situacoes:function(utilsService){return utilsService.listarSituacao()}}});$routeProvider.when("/combustivel",{templateUrl:"partials/combustivel.html",controller:"combustivelController",resolve:{situacoes:function(utilsService){return utilsService.listarSituacao()}}});$routeProvider.when("/cor",{templateUrl:"partials/cor.html",controller:"corController",resolve:{situacoes:function(utilsService){return utilsService.listarSituacao()}}});$routeProvider.otherwise({redirectTo:"/"})}]);